# 游记发布页文档

## 功能概述
本页面实现了游记编辑发布功能，支持以下内容：
- 标题
- 内容
- 多图上传（图片压缩）
- 单视频上传

## 功能实现细节
### 1. 登录态校验
进入页面时，会检查本地存储的 `isLoggedIn` 状态。若未登录，将跳转到登录页面。

### 2. 图片压缩
使用 `compressorjs` 库对上传的图片进行压缩，压缩质量为 60%。用户可通过相册或相机上传图片，最多上传 9 张。

### 3. 视频上传
用户可通过相册或相机上传单个视频，视频时长最长 60 秒。

### 4. 表单校验
标题、内容和图片均为必填项。提交时若校验不通过，页面会显示错误提示。

### 5. 发布功能
校验通过后，会生成一个唯一的游记 ID（当前时间戳），并模拟将数据发送到数据库。发布成功后，页面返回上一页并显示成功提示。

## 路由配置
在 `index.jsx` 中添加了新的路由：
```jsx
<Route path="/pages/TravelPublish/TravelPublish" component={TravelPublishPage} />
```

## 测试步骤
1. 确保项目依赖已安装：
```bash
npm install
```
2. 启动开发服务器：
```bash
npm run dev
```
3. 访问游记发布页：
```
/pages/TravelPublish/TravelPublish
```
4. 测试登录态校验：清除本地存储的 `isLoggedIn` 状态，尝试进入页面，应跳转到登录页。
5. 测试图片上传：选择多张图片，检查预览和压缩效果。
6. 测试视频上传：选择一个视频，检查选择状态。
7. 测试表单校验：不填写必填项，点击发布，检查错误提示。
8. 测试发布功能：填写完整信息，点击发布，检查是否成功返回并显示提示。

## 注意事项
- 请替换 `https://your-api-endpoint.com/travels` 为实际的 API 接口地址。
- 若需要调整图片压缩质量，可在 `handleImageUpload` 方法中修改 `quality` 参数。