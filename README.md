# travel-diary-platform
旅游日记平台 - 用户系统与审核管理系统

## 后端项目启动

前提：电脑上需要安装`mongodb`数据库。

1. 进入项目目录`cd server`
2. 安装依赖`npm install`
3. 启动项目`npm run start`或`yarn start`

## 管理端项目启动

1. 进入项目目录 `cd admin`
2. 安装依赖 `npm install`
3. 启动项目 `npm start`或`yarn start`

## 移动端项目启动

1. 在手机上安装Expo Go
2. 进入项目目录 `cd mobile`
3. 安装依赖 `npm install`
4. 启动项目 `npm start`或`yarn start`
5. 使用手机Expo Go扫描二维码

旅游日记平台已实现了一个完整的三端架构系统，包括移动端、管理端和服务端，主要功能实现如下：

## 移动端功能

### 1. 用户系统
- **注册与登录**：支持用户名、密码注册和登录
- **用户资料管理**：头像上传（包含默认头像支持）、个人信息编辑（昵称、性别、简介）
- **身份认证**：基于JWT Token的认证机制

### 2. 首页瀑布流
- **内容展示**：使用瀑布流布局展示游记内容
- **分页加载**：实现下拉刷新和底部加载更多功能
- **搜索功能**：支持基于标题和内容的搜索

### 3. 游记详情
- **多媒体展示**：支持图片轮播和视频播放
- **地理位置**：显示游记关联的地理位置信息
- **社交互动**：点赞、收藏功能
- **分享功能**：生成分享链接，可分享至各社交平台

### 4. 游记发布与编辑
- **多媒体上传**：支持多图片和视频上传
- **内容编辑**：标题、内容文本编辑
- **地理位置**：支持设置游记地点
- **状态管理**：可保存为草稿或提交审核

### 5. 个人中心
- **四类内容管理**：基于选项卡的我的游记、收藏、点赞和草稿管理
- **游记状态展示**：已通过、未通过、待审核状态清晰展示
- **内容操作**：支持删除和重新编辑功能
- **用户信息展示**：显示个人头像、昵称、简介等信息

## 管理端功能

### 1. 用户管理
- **登录认证**：管理员登录系统
- **角色权限**：区分普通审核员和管理员权限

### 2. 游记审核
- **列表展示**：展示所有待审核、已通过和未通过的游记
- **筛选功能**：按状态、时间、标题等筛选游记
- **详情查看**：查看游记详细内容与媒体
- **审核操作**：通过或拒绝游记，拒绝需填写理由

### 3. 数据管理
- **游记删除**：管理员可删除不当内容
- **分页功能**：支持大量数据的分页展示
- **游记统计**：展示各状态游记数量

## 服务端功能

### 1. 用户数据管理
- **用户认证**：注册、登录、Token验证
- **资料维护**：个人信息更新、头像上传处理

### 2. 游记数据管理
- **游记CRUD**：创建、读取、更新、删除游记
- **状态管理**：游记审核状态管理（待审核、通过、拒绝、草稿）
- **媒体处理**：图片和视频的上传、存储与访问

### 3. 社交功能实现
- **点赞收藏**：用户点赞、收藏操作API
- **计数统计**：游记点赞数、收藏数的实时更新

### 4. 文件处理
- **图片处理**：支持头像和游记图片上传
- **视频处理**：支持视频上传和缩略图生成
- **流式传输**：优化视频加载的流式传输

### 5. 搜索功能
- **全文搜索**：基于标题和内容的模糊搜索功能
- **结果分页**：搜索结果的有效展示

## 特别亮点

1. **多媒体支持**：不仅支持图片，还实现了视频上传、处理和展示
2. **默认头像功能**：未上传头像时自动使用默认头像
3. **瀑布流布局**：高效展示不同大小图片的旅行内容
4. **完整审核流程**：从发布到审核的全流程实现
5. **响应式设计**：适配多种移动设备尺寸

该平台构建了一个完整的旅游日记生态系统，从内容创作、审核到社交分享，为用户提供了记录和分享旅行体验的全方位功能。